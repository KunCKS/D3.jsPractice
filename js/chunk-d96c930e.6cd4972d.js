(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d96c930e"],{8418:function(t,a,e){"use strict";var n=e("c04e"),r=e("9bf2"),l=e("5c6c");t.exports=function(t,a,e){var o=n(a);o in t?r.f(t,o,l(0,e)):t[o]=e}},"99af":function(t,a,e){"use strict";var n=e("23e7"),r=e("d039"),l=e("e8b5"),o=e("861d"),i=e("7b0b"),c=e("50c4"),u=e("8418"),s=e("65f0"),v=e("1dde"),d=e("b622"),m=e("2d00"),h=d("isConcatSpreadable"),p=9007199254740991,f="Maximum allowed index exceeded",g=m>=51||!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),w=v("concat"),b=function(t){if(!o(t))return!1;var a=t[h];return void 0!==a?!!a:l(t)},x=!g||!w;n({target:"Array",proto:!0,forced:x},{concat:function(t){var a,e,n,r,l,o=i(this),v=s(o,0),d=0;for(a=-1,n=arguments.length;a<n;a++)if(l=-1===a?o:arguments[a],b(l)){if(r=c(l.length),d+r>p)throw TypeError(f);for(e=0;e<r;e++,d++)e in l&&u(v,d,l[e])}else{if(d>=p)throw TypeError(f);u(v,d++,l)}return v.length=d,v}})},b3b2:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{attrs:{id:"line-chart-"+t.id}})])},r=[],l=(e("99af"),e("d81d"),e("b0c0"),e("5698")),o=e("8dee"),i=e.n(o),c=e("bc3a"),u=e.n(c),s={name:"LineChart",data:function(){return{id:i.a.generate(),rawData:[{value:10,name:"18:35"},{value:12,name:"18:55"},{value:30,name:"19:15"},{value:18,name:"19:35"},{value:6,name:"19:55"},{value:17,name:"20:15"},{value:16,name:"20:35"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"}],LocationsData:[],weatherData:[],selected:{value:""}}},methods:{drawChart:function(){var t=this,a=this,e={top:20,bottom:0,left:0,right:0},n=255-e.left-e.right,r=235-e.top-e.bottom,o=l["o"]().domain([0,this.rawData.length-1]).range([0,n]);console.dir(o);var i=l["o"]().domain([0,l["m"](this.rawData.map((function(t){return t.value})))]).range([r,0]);console.log("y",i);var c=l["r"]("#line-chart-".concat(this.id)).attr("style","width:".concat(n+e.left+e.right,"px;height:").concat(r+e.top+e.bottom,"px;position:relative")).append("svg").attr("id","svg-line-chart-".concat(this.id)).attr("width",n+e.left+e.right).attr("height",r+e.top+e.bottom).attr("style","box-shadow:0px 0px 10px rgba(0,0,0,0.1);border-radius: 6px"),u=c.append("g").attr("transform","translate(".concat(e.left,",").concat(e.top,")")),s=l["l"]().x((function(t,a){return o(a)})).y((function(t){return i(t.value)}));u.append("path").datum(this.rawData).attr("d",s).attr("class","main-line").attr("fill","none").attr("stroke-width",2).attr("stroke","#0990CA");var v=l["a"]().x((function(t,a){return o(a)})).y0(r).y1((function(t){return i(t.value)})),d=c.append("defs").append("linearGradient").attr("id","curveGradient").attr("x1","50%").attr("x2","50%").attr("y1","0%").attr("y2","100%");d.append("stop").attr("class","gradient-start").attr("offset","0%").attr("stop-color","rgba(9,144,202,0.4)").attr("stop-opacity",1),d.append("stop").attr("class","gradient-end").attr("offset","100%").attr("stop-color","rgba(9,144,202,0)").attr("stop-opacity",1),u.append("path").attr("class","path-area").datum(this.rawData).attr("d",v).attr("fill","url(#curveGradient)"),c.append("rect").attr("class","lineChart-mask").attr("width",n).attr("height",r+e.top+e.bottom).attr("fill","#ffffff").attr("x",0).transition().duration(1300).ease(l["h"]).attr("x",n);var m=u.append("circle").attr("class","dot").attr("r","5").attr("stroke","#0990CA").attr("stroke-width","2").attr("fill","#ffffff").attr("opacity","0"),h=l["r"]("#line-chart-".concat(this.id)).append("div").attr("class","tooltip-wrapper").html('<div class="circle"></div><div class="data"></div>').attr("style","display:none");u.selectAll(".line-hover-block-".concat(this.id)).data(this.rawData).enter().append("rect").attr("class","line-hover-block-".concat(this.id)).attr("fill","transparent").attr("x",(function(a,e){return o(e)-n/t.rawData.length/2})).attr("y",0).attr("width",n/this.rawData.length).attr("height",r).on("mouseover",(function(t,a){m.attr("cx",(function(){return o(a)})).attr("cy",i(t.value)).attr("opacity","1"),h.attr("style","display:flex;left: ".concat(o(a)+15,"px")),l["r"](".tooltip-wrapper .data").html("".concat(t.value," mm"))})).on("mouseleave",(function(){m.attr("opacity","0"),h.attr("style","display:none")}));var p,f=l["e"]().extent([[0,0],[n+e.left+e.right,r+e.top+e.bottom]]).on("end",w);function g(){p=null}function w(){var t=l["i"].selection;if(console.log("brush 選到的範圍",t),t)console.log("else"),o.domain([o.invert(t[0]),o.invert(t[1])]),c.select(".brush").call(f.clear);else{if(console.log("!extent"),!p)return p=setTimeout(g,350);o.domain([0,a.rawData.length-1])}u.select(".main-line").transition().duration(1e3).attr("d",l["l"]().x((function(t,a){return o(a)})).y((function(t){return i(t.value)}))),u.select(".path-area").transition().duration(1e3).attr("d",v)}c.append("g").attr("class","brush").call(f),c.on("dblclick",(function(){o.domain([0,a.rawData.length-1]),u.select(".main-line").transition().duration(1e3).attr("d",l["l"]().x((function(t,a){return o(a)})).y((function(t){return i(t.value)}))),u.select(".path-area").transition().duration(1e3).attr("d",v)}))},getLocationsData:function(){var t=this,a="https://works.ioa.tw/weather/api/all.json";u.a.get(a).then((function(a){t.LocationsData=a.data.map((function(t){return{label:"".concat(t.name,",台灣"),value:t.id}}))})).catch((function(t){console.error(t)}))},getWeatherData:function(t){var a=this;u.a.get("https://works.ioa.tw/weather/api/weathers/".concat(t,".json")).then((function(t){a.weatherData=t.data})).catch((function(t){console.error(t)}))}},watch:{select:function(){this.getWeatherData(this.selected.value)}},created:function(){this.getLocationsData()},mounted:function(){this.drawChart()}},v=s,d=e("2877"),m=Object(d["a"])(v,n,r,!1,null,null,null);a["default"]=m.exports}}]);
//# sourceMappingURL=chunk-d96c930e.6cd4972d.js.map