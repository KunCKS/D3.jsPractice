(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-543d28da"],{"4bd8":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{attrs:{id:"line-chart-"+t.id}})])},n=[],o=(e("99af"),e("d81d"),e("b0c0"),e("5698")),i=e("8dee"),c=e.n(i),l=e("bc3a"),s=e.n(l),d={name:"LineChart",data:function(){return{id:c.a.generate(),rawData:[{value:10,name:"18:35"},{value:12,name:"18:55"},{value:30,name:"19:15"},{value:18,name:"19:35"},{value:6,name:"19:55"},{value:17,name:"20:15"},{value:16,name:"20:35"},{value:9,name:"20:55"},{value:3,name:"21:15"},{value:1,name:"21:35"},{value:5,name:"21:55"}],LocationsData:[],weatherData:[],selected:{value:""}}},methods:{drawChart:function(){var t=this,a={top:20,bottom:0,left:0,right:0},e=255-a.left-a.right,r=235-a.top-a.bottom,n=o["o"]().domain([0,this.rawData.length-1]).range([0,e]);console.dir(n);var i=o["o"]().domain([0,o["m"](this.rawData.map((function(t){return t.value})))]).range([r,0]);console.log("y",i);var c=o["r"]("#line-chart-".concat(this.id)).attr("style","width:".concat(e+a.left+a.right,"px;height:").concat(r+a.top+a.bottom,"px;position:relative")).append("svg").attr("width",e+a.left+a.right).attr("height",r+a.top+a.bottom).attr("style","box-shadow:0px 0px 10px rgba(0,0,0,0.1);border-radius: 6px"),l=c.append("g").attr("transform","translate(".concat(a.left,",").concat(a.top,")")),s=o["l"]().x((function(t,a){return n(a)})).y((function(t){return i(t.value)}));l.append("path").datum(this.rawData).attr("d",s).attr("class","main-line").attr("fill","none").attr("stroke-width",2).attr("stroke","#0990CA");var d=o["a"]().x((function(t,a){return n(a)})).y0(r).y1((function(t){return i(t.value)})),u=c.append("defs").append("linearGradient").attr("id","curveGradient").attr("x1","50%").attr("x2","50%").attr("y1","0%").attr("y2","100%");u.append("stop").attr("class","gradient-start").attr("offset","0%").attr("stop-color","rgba(9,144,202,0.4)").attr("stop-opacity",1),u.append("stop").attr("class","gradient-end").attr("offset","100%").attr("stop-color","rgba(9,144,202,0)").attr("stop-opacity",1),l.append("path").datum(this.rawData).attr("d",d).attr("fill","url(#curveGradient)"),c.append("rect").attr("class","lineChart-mask").attr("width",e).attr("height",r+a.top+a.bottom).attr("fill","#ffffff").attr("x",0).transition().duration(1300).ease(o["h"]).attr("x",e);var p=l.append("circle").attr("class","dot").attr("r","5").attr("stroke","#0990CA").attr("stroke-width","2").attr("fill","#ffffff").attr("opacity","0"),h=o["r"]("#line-chart-".concat(this.id)).append("div").attr("class","tooltip-wrapper").html('<div class="circle"></div><div class="data"></div>').attr("style","display:none");l.selectAll(".line-hover-block-".concat(this.id)).data(this.rawData).enter().append("rect").attr("class","line-hover-block-".concat(this.id)).attr("fill","transparent").attr("x",(function(a,r){return n(r)-e/t.rawData.length/2})).attr("y",0).attr("width",e/this.rawData.length).attr("height",r).on("mouseover",(function(t,a){p.attr("cx",(function(){return n(a)})).attr("cy",i(t.value)).attr("opacity","1"),h.attr("style","display:flex;left: ".concat(n(a)+15,"px")),o["r"](".tooltip-wrapper .data").html("".concat(t.value," mm"))})).on("mouseleave",(function(){p.attr("opacity","0"),h.attr("style","display:none")}))},getLocationsData:function(){var t=this,a="https://works.ioa.tw/weather/api/all.json";s.a.get(a).then((function(a){t.LocationsData=a.data.map((function(t){return{label:"".concat(t.name,",台灣"),value:t.id}}))})).catch((function(t){console.error(t)}))},getWeatherData:function(t){var a=this;s.a.get("https://works.ioa.tw/weather/api/weathers/".concat(t,".json")).then((function(t){a.weatherData=t.data})).catch((function(t){console.error(t)}))}},watch:{select:function(){this.getWeatherData(this.selected.value)}},created:function(){this.getLocationsData()},mounted:function(){this.drawChart()}},u=d,p=e("2877"),h=Object(p["a"])(u,r,n,!1,null,null,null);a["default"]=h.exports},8418:function(t,a,e){"use strict";var r=e("c04e"),n=e("9bf2"),o=e("5c6c");t.exports=function(t,a,e){var i=r(a);i in t?n.f(t,i,o(0,e)):t[i]=e}},"99af":function(t,a,e){"use strict";var r=e("23e7"),n=e("d039"),o=e("e8b5"),i=e("861d"),c=e("7b0b"),l=e("50c4"),s=e("8418"),d=e("65f0"),u=e("1dde"),p=e("b622"),h=e("2d00"),f=p("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",w=h>=51||!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),g=u("concat"),b=function(t){if(!i(t))return!1;var a=t[f];return void 0!==a?!!a:o(t)},y=!w||!g;r({target:"Array",proto:!0,forced:y},{concat:function(t){var a,e,r,n,o,i=c(this),u=d(i,0),p=0;for(a=-1,r=arguments.length;a<r;a++)if(o=-1===a?i:arguments[a],b(o)){if(n=l(o.length),p+n>v)throw TypeError(m);for(e=0;e<n;e++,p++)e in o&&s(u,p,o[e])}else{if(p>=v)throw TypeError(m);s(u,p++,o)}return u.length=p,u}})}}]);
//# sourceMappingURL=chunk-543d28da.58131bb4.js.map